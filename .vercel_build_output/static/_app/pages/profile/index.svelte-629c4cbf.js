import{S as e,i as a,s,e as t,t as l,c as n,a as r,g as i,d as o,b as c,f as d,E as f,h as m,k as u,n as h,H as $,j as p,m as g,o as v,x,u as b,v as y,l as E,J as V,F as w,w as I,M as T,r as k,U as D}from"../../chunks/vendor-57f7ae41.js";import{d as P,c as N}from"../../chunks/api-a70f9d43.js";import{M as j,R as B}from"../../chunks/RecommendationCard-cd1cc2c7.js";function C(e){let a,s;return{c(){a=t("button"),s=l(e[3]),this.h()},l(t){a=n(t,"BUTTON",{class:!0});var l=r(a);s=i(l,e[3]),l.forEach(o),this.h()},h(){c(a,"class","text-xs font-semibold text-indigo-600 ml-2")},m(e,t){d(e,a,t),f(a,s)},p(e,a){8&a&&m(s,e[3])},d(e){e&&o(a)}}}function U(e){let a,s,p,g,v,x,b,y,E=!e[2]&&C(e);return{c(){a=t("div"),s=t("div"),p=t("span"),g=l(e[0]),v=u(),E&&E.c(),x=u(),b=t("span"),y=l(e[1]),this.h()},l(t){a=n(t,"DIV",{class:!0});var l=r(a);s=n(l,"DIV",{class:!0});var c=r(s);p=n(c,"SPAN",{class:!0});var d=r(p);g=i(d,e[0]),d.forEach(o),v=h(c),E&&E.l(c),c.forEach(o),x=h(l),b=n(l,"SPAN",{class:!0});var f=r(b);y=i(f,e[1]),f.forEach(o),l.forEach(o),this.h()},h(){c(p,"class","text-sm font-semibold"),c(s,"class","flex flex-row items-center"),c(b,"class","text-lg"),c(a,"class","flex flex-col")},m(e,t){d(e,a,t),f(a,s),f(s,p),f(p,g),f(s,v),E&&E.m(s,null),f(a,x),f(a,b),f(b,y)},p(e,[a]){1&a&&m(g,e[0]),e[2]?E&&(E.d(1),E=null):E?E.p(e,a):(E=C(e),E.c(),E.m(s,null)),2&a&&m(y,e[1])},i:$,o:$,d(e){e&&o(a),E&&E.d()}}}function _(e,a,s){let{label:t}=a,{displayValue:l}=a,{hideEdit:n}=a,{editText:r="edit"}=a;return e.$$set=e=>{"label"in e&&s(0,t=e.label),"displayValue"in e&&s(1,l=e.displayValue),"hideEdit"in e&&s(2,n=e.hideEdit),"editText"in e&&s(3,r=e.editText)},[t,l,n,r]}class A extends e{constructor(e){super(),a(this,e,_,U,s,{label:0,displayValue:1,hideEdit:2,editText:3})}}function M(e,a,s){const t=e.slice();return t[11]=a[s],t}function O(e){let a,s;return a=new j({props:{hideCloseX:!0,onHideModal:e[7],$$slots:{default:[H]},$$scope:{ctx:e}}}),{c(){p(a.$$.fragment)},l(e){g(a.$$.fragment,e)},m(e,t){v(a,e,t),s=!0},p(e,s){const t={};16390&s&&(t.$$scope={dirty:s,ctx:e}),a.$set(t)},i(e){s||(x(a.$$.fragment,e),s=!0)},o(e){b(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function S(e){let a,s;return a=new B({props:{recommendation:e[11],hideActions:!0,hideRecommendedBy:!0,showEditButton:!0,hide:e[2]&&e[2]!==e[11].id,editClickCallback:e[6],deleteClickCallback:e[8]}}),{c(){p(a.$$.fragment)},l(e){g(a.$$.fragment,e)},m(e,t){v(a,e,t),s=!0},p(e,s){const t={};2&s&&(t.recommendation=e[11]),6&s&&(t.hide=e[2]&&e[2]!==e[11].id),a.$set(t)},i(e){s||(x(a.$$.fragment,e),s=!0)},o(e){b(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function H(e){let a,s,l=e[1],i=[];for(let t=0;t<l.length;t+=1)i[t]=S(M(e,l,t));const f=e=>b(i[e],1,1,(()=>{i[e]=null}));return{c(){a=t("div");for(let e=0;e<i.length;e+=1)i[e].c();this.h()},l(e){a=n(e,"DIV",{class:!0});var s=r(a);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(o),this.h()},h(){c(a,"class","space-y-2")},m(e,t){d(e,a,t);for(let s=0;s<i.length;s+=1)i[s].m(a,null);s=!0},p(e,s){if(326&s){let t;for(l=e[1],t=0;t<l.length;t+=1){const n=M(e,l,t);i[t]?(i[t].p(n,s),x(i[t],1)):(i[t]=S(n),i[t].c(),x(i[t],1),i[t].m(a,null))}for(k(),t=l.length;t<i.length;t+=1)f(t);I()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)x(i[e]);s=!0}},o(e){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)b(i[a]);s=!1},d(e){e&&o(a),D(i,e)}}}function R(e){let a,s,$,T,D,P,N,j,B,C,U,_,M,S,H,R,Y,F,G,J,X,q,z,K,L,Q,W,Z,ee,ae,se,te,le,ne,re,ie,oe,ce,de=e[4].name+"";F=new A({props:{label:"Name",displayValue:e[4].name,hideEdit:!0}}),J=new A({props:{label:"Username",displayValue:e[4].username}}),q=new A({props:{label:"Email",displayValue:e[4].email}}),K=new A({props:{label:"Password",displayValue:"**********",editText:"reset"}}),Q=new A({props:{label:"Discord Username",displayValue:e[4].discord_username}});let fe=e[0]&&O(e);return{c(){a=t("h1"),s=l(de),$=l("'s Profile"),T=u(),D=t("div"),P=t("div"),N=t("div"),j=t("span"),B=l("Img"),C=u(),U=t("button"),_=l("edit"),M=u(),S=t("img"),R=u(),Y=t("div"),p(F.$$.fragment),G=u(),p(J.$$.fragment),X=u(),p(q.$$.fragment),z=u(),p(K.$$.fragment),L=u(),p(Q.$$.fragment),W=u(),Z=t("div"),ee=t("p"),ae=l("You've made "),se=t("button"),te=l(e[3]),le=l(" recommendations"),ne=u(),fe&&fe.c(),re=E(),this.h()},l(t){a=n(t,"H1",{class:!0});var l=r(a);s=i(l,de),$=i(l,"'s Profile"),l.forEach(o),T=h(t),D=n(t,"DIV",{class:!0});var c=r(D);P=n(c,"DIV",{});var d=r(P);N=n(d,"DIV",{class:!0});var f=r(N);j=n(f,"SPAN",{class:!0});var m=r(j);B=i(m,"Img"),m.forEach(o),C=h(f),U=n(f,"BUTTON",{class:!0});var u=r(U);_=i(u,"edit"),u.forEach(o),f.forEach(o),M=h(d),S=n(d,"IMG",{class:!0,src:!0,alt:!0}),d.forEach(o),R=h(c),Y=n(c,"DIV",{class:!0});var p=r(Y);g(F.$$.fragment,p),G=h(p),g(J.$$.fragment,p),X=h(p),g(q.$$.fragment,p),z=h(p),g(K.$$.fragment,p),L=h(p),g(Q.$$.fragment,p),p.forEach(o),W=h(c),Z=n(c,"DIV",{});var v=r(Z);ee=n(v,"P",{});var x=r(ee);ae=i(x,"You've made "),se=n(x,"BUTTON",{class:!0});var b=r(se);te=i(b,e[3]),le=i(b," recommendations"),b.forEach(o),x.forEach(o),v.forEach(o),c.forEach(o),ne=h(t),fe&&fe.l(t),re=E(),this.h()},h(){c(a,"class","text-xl font-bold mb-4"),c(j,"class","text-sm font-semibold"),c(U,"class","text-xs font-semibold text-indigo-600 ml-2"),c(N,"class","flex items-center mb-1"),c(S,"class","w-70 h-auto"),V(S.src,H=e[4].image)||c(S,"src",H),c(S,"alt","Profile"),c(Y,"class","flex flex-col space-y-4"),c(se,"class","text-indigo-600 underline"),c(D,"class","flex w-full items-start justify-between")},m(t,l){d(t,a,l),f(a,s),f(a,$),d(t,T,l),d(t,D,l),f(D,P),f(P,N),f(N,j),f(j,B),f(N,C),f(N,U),f(U,_),f(P,M),f(P,S),f(D,R),f(D,Y),v(F,Y,null),f(Y,G),v(J,Y,null),f(Y,X),v(q,Y,null),f(Y,z),v(K,Y,null),f(Y,L),v(Q,Y,null),f(D,W),f(D,Z),f(Z,ee),f(ee,ae),f(ee,se),f(se,te),f(se,le),d(t,ne,l),fe&&fe.m(t,l),d(t,re,l),ie=!0,oe||(ce=w(se,"click",e[5]),oe=!0)},p(e,[a]){(!ie||16&a)&&de!==(de=e[4].name+"")&&m(s,de),(!ie||16&a&&!V(S.src,H=e[4].image))&&c(S,"src",H);const t={};16&a&&(t.displayValue=e[4].name),F.$set(t);const l={};16&a&&(l.displayValue=e[4].username),J.$set(l);const n={};16&a&&(n.displayValue=e[4].email),q.$set(n);const r={};16&a&&(r.displayValue=e[4].discord_username),Q.$set(r),(!ie||8&a)&&m(te,e[3]),e[0]?fe?(fe.p(e,a),1&a&&x(fe,1)):(fe=O(e),fe.c(),x(fe,1),fe.m(re.parentNode,re)):fe&&(k(),b(fe,1,1,(()=>{fe=null})),I())},i(e){ie||(x(F.$$.fragment,e),x(J.$$.fragment,e),x(q.$$.fragment,e),x(K.$$.fragment,e),x(Q.$$.fragment,e),x(fe),ie=!0)},o(e){b(F.$$.fragment,e),b(J.$$.fragment,e),b(q.$$.fragment,e),b(K.$$.fragment,e),b(Q.$$.fragment,e),b(fe),ie=!1},d(e){e&&o(a),e&&o(T),e&&o(D),y(F),y(J),y(q),y(K),y(Q),e&&o(ne),fe&&fe.d(e),e&&o(re),oe=!1,ce()}}}function Y(e,a,s){let t;T(e,N,(e=>s(4,t=e)));var l=this&&this.__awaiter||function(e,a,s,t){return new(s||(s=Promise))((function(l,n){function r(e){try{o(t.next(e))}catch(a){n(a)}}function i(e){try{o(t.throw(e))}catch(a){n(a)}}function o(e){var a;e.done?l(e.value):(a=e.value,a instanceof s?a:new s((function(e){e(a)}))).then(r,i)}o((t=t.apply(e,a||[])).next())}))};let n,r=!1,i=[],o=t.recommended_count;return[r,i,n,o,t,()=>l(void 0,void 0,void 0,(function*(){s(0,r=!0);const e={endpoint:"/user-recommended-by",params:{user_id:t.id}},a=yield P(e);if(200===a.status){const e=yield a.json();console.log(e),s(1,i=e)}})),e=>{s(2,n=e)},()=>{s(2,n=void 0),s(0,r=!1)},e=>{const a=i.map((e=>e.id)).indexOf(e);if(a>-1){const e=[...i];e.splice(a,1),s(1,i=[...e]),s(3,o-=1)}}]}class F extends e{constructor(e){super(),a(this,e,Y,R,s,{})}}export{F as default};
